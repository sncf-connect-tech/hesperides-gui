<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<head>
    <meta name="generator" content="HTML Tidy for HTML5 for Windows version 5.6.0">
    <meta charset="utf-8">
    <title>Hesperides Docs - Quick Start</title><!-- Meta -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="favicon.ico">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'><!-- Global CSS -->
    <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css"><!-- Plugins CSS -->
    <link rel="stylesheet" href="assets/plugins/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="assets/plugins/prism/prism.css">
    <link rel="stylesheet" href="assets/plugins/elegant_font/css/style.css"><!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="assets/css/styles.css"><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body class="body-green">
    <div class="page-wrapper">
        <!-- ******Header****** -->
        <header id="header" class="header">
            <div class="container">
                <div class="branding">
                    <h1 class="logo"><a href="index.html"><span class="text-highlight">Hesperides</span><span class="text-bold">Docs</span></a></h1>
                </div><!--//branding-->
                <ol class="breadcrumb">
                    <li>
                        <a href="index.html">Home</a>
                    </li>
                    <li class="active">Quick Start</li>
                </ol>
            </div><!--//container-->
        </header><!--//header-->
        <div class="doc-wrapper">
            <div class="container">
                <div id="doc-header" class="doc-header text-center">
                    <h1 class="doc-title">Quick Start</h1>
                    <div class="meta">
                        Last updated: oct.13, 2016 - 11:10:49
                    </div>
                </div><!--//doc-header-->
                <div class="doc-body">
                    <div class="doc-content">
                        <div class="content-inner">
                            <section id="what-is-hesperides" class="doc-section">
                                <h2 class="section-title">What's Hesperides</h2>
                                <div class="section-block">
                                    <p>Hesperides is an open sourced tool, allowing to generate any kind of file type considering on one hand the templates, and the other hand the applications.</p>
                                </div>
                            </section><!--//doc-section-->
                            <section id="when-to-use-it" class="doc-section">
                                <h2 class="section-title">When to use it</h2>
                                <div class="section-block">
                                    <p>It should be used as much as possible ! Concretely you can use it to generate :</p>
                                    <ul>
                                        <li>html pages specified for your context</li>
                                        <li>key/value files for your java application</li>
                                        <li>json for your configuration datas</li>
                                        <li>xml for your logback/log4 files</li>
                                        <li>etc ...</li>
                                    </ul>
                                </div>
                            </section><!--//doc-section-->
                            <section id="essential-concepts" class="doc-section">
                                <h2 class="section-title">Essential concepts</h2>
                                <p>Several fundamental concepts underly and drive the Hesperides system. If you are a new user, knowing about them will help you use or integrate Hesperides into your environment.</p>
                                <div id="essential-concepts-create" class="section-block">
                                    <h3 class="block-title">Module and platform</h3>
                                    <p>First you have to create your resources :</p>
                                    <ol>
                                        <li>
                                            <a href="templates.html#create-module">module</a>
                                        </li>
                                        <li>
                                            <a href="templates.html#add-template">template</a>
                                        </li>
                                        <li>
                                            <a href="applications.html#create-platform">platform</a>
                                        </li>
                                    </ol>
                                </div><!--//section-block-->
                                <div id="essential-concepts-valuation" class="section-block">
                                    <h3 class="block-title">Valuation</h3>
                                    <p>Secondly you have to valuate your <a href="valuations.html#valuation-module-properties">properties</a></p>
                                </div><!--//section-block-->
                                <div id="essential-concepts-files" class="section-block">
                                    <h3 class="block-title">Files</h3>
                                    <p>Now you have created a module, a template, a platform and valuated your properties, you can generate your files. Hesperides offers two steps :</p>
                                    <ol>
                                        <li>
                                            <b>/rest/files/applications/{application_name}/platforms/{platform_name}/{path}/{module_name}/{module_version}/instances/{instance_name}</b> : Generate a json that contains for each file of your module :
                                            <ul>
                                                <li>the location of the generated file</li>
                                                <li>the url to get the content of the generated file</li>
                                                <li>the rights applied for the generated file</li>
                                            </ul>
                                        </li>
                                        <li><b>/rest/files/applications/{application_name}/platforms/{platform_name}/{path}/{module_name}/{module_version}/instances/{instance_name}/{filename}</b> : get the content of the generated file</li>
                                    </ol>
                                </div><!--//section-block-->
                            </section><!--//doc-section-->
                            <section id="full-example" class="doc-section">
                                <h2 class="section-title">Full example</h2>
                                <div class="section-block">
                                    <div class="row">
                                        <h6>Hesperides in 4 minutes !!</h6><!-- 4:3 aspect ratio -->
                                        <div class="embed-responsive embed-responsive-16by9">
                                            <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/vgS4oXnkydc?rel=0&amp;controls=0&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>
                                        </div>
                                    </div><!--//row-->
                                </div><!--//section-block-->
                            </section><!--//doc-section-->
                            <section id="install" class="doc-section">
                                <h2 class="section-title">Installation</h2>
                                <div id="dockerhub-images" class="section-block">
                                    <h3 class="block-title">Docker Hub images</h3>
                                    <ul>
                                        <li>
                                            <a href="https://hub.docker.com/r/hesperides/hesperides">hesperides/hesperides</a>
                                        </li>
                                        <li>
                                            <a href="https://hub.docker.com/r/hesperides/hesperides-gui">hesperides/hesperides-gui</a>
                                        </li>
                                    </ul>
                                </div><!--//section-block-->
                                <div id="docker-build" class="section-block">
                                    <h3 class="block-title">Docker image build</h3>
                                    <p>Building &amp; running the Docker image from the sources</p>
                                    <p><b>Backend:</b></p>
                                    <pre><code class="language-git">git pull https://github.com/voyages-sncf-technologies/hesperides
docker build -t hesperides .
docker run --rm -e SPRING_PROFILES_ACTIVE=noldap,fake_mongo hesperides</code></pre>
                                    <p>It can also be launched along a Mongo instance using <code>docker-compose</code>:</p>
                                    <pre><code class="language-git">docker-compose -f docker/docker-compose.yml -f docker/docker-compose-mongo.yml up -d</code></pre>
                                    <p><b>Frontend:</b></p>
                                    <pre><code class="language-git">git pull https://github.com/voyages-sncf-technologies/hesperides-gui
docker build -t hesperides-gui .
docker run --rm -it -p 80:80 -e API_ENDPOINT=... hesperides-gui</code></pre>
                                    <p><code>$API_ENDPOINT</code> must be an URL to access the backend, like <code>http://localhost:8080</code></p>
                                </div><!--//section-block-->
                                <div id="heroku" class="section-block">
                                    <h3 class="block-title">Deploying on Heroku</h3>
                                    <p>This section provides a few guidelines on how to deploy Hesperides
                                       on <a href="https://heroku.com">Heroku</a>, from our experience deploying the live demo.</p>
                                    <p>An <a href="https://devcenter.heroku.com/articles/build-docker-images-heroku-yml"><code>heroku.yml</code> configuration file</a> is provided in each repository as a starting point.</p>
                                    <p>You will need to create 2 apps:</p>
                                    <ul>
                                        <li><b>hesperides</b>: the <em>frontend</em>, corresponding to the <a href="https://github.com/voyages-sncf-technologies/hesperides-gui">hesperides-gui</a> repository</li>
                                        <li><b>hesperides-back</b>: the <em>backend</em>, corresponding to the <a href="https://github.com/voyages-sncf-technologies/hesperides">hesperides</a> repository</li>
                                    </ul>
                                    <p>There is a reason behind this choice of Heroku apps naming:
                                       we wanted to have the <em>frontend</em> answering on the URL <a href="https://hesperides.herokuapp.com">https://hesperides.herokuapp.com</a>.</p>
                                    <p>For each app, there are the steps to deploy it on Heroku:</p>
                                    <ol>
                                        <li>Sets the required <b>Config Vars</b> on the Heroku app <b>Settings</b>:
                                            <ul>
                                                <li>for the <b>hesperides</b> app: <code>API_ENDPOINT: https://hesperides-back.herokuapp.com</code></li>
                                                <li>for the <b>hesperides-back</b> app: <code>SPRING_PROFILES_ACTIVE: noldap,fake_mongo</code></li>
                                            </ul>
                                        </li>
                                        <li>Run the following commands in the corresponding cloned repository,
                                          using the <a href="https://devcenter.heroku.com/articles/heroku-cli">Heroku CLI</a>:
                                            <pre><code>heroku stack:set -a $app container
heroku git:remote -a $app
git push heroku master
heroku ps:scale web=1 -a $app
heroku ps -a hesperides
heroku logs --tail -a hesperides</code></pre>
                                        </li>
                                        <li>Optionally, you can enable <a href="https://devcenter.heroku.com/articles/github-integration">Heroku GitHub Deploys</a>.</li>
                                    </ol>
                                </div><!--//section-block-->
                                <div id="configuring-ldap" class="section-block">
                                    <h3 class="block-title">Configuring LDAP</h3>
                                    <p>You can either use the <code>noldap</code> Spring profile, that defines some <a href="https://github.com/voyages-sncf-technologies/hesperides/blob/master/core/presentation/src/main/java/org/hesperides/core/presentation/security/LocalWebSecurityConfig.java#L37">dummy in-memory users</a>, or use the <code>ldap</code> Spring profile and configure the following environment variables:</p>
                                    <ul>
                                        <li><code>$LDAP_URL</code>: required, example value: <code>ldaps://ldap.example.com:636</code></li>
                                        <li><code>$LDAP_DOMAIN</code>: optional</li>
                                        <li><code>$LDAP_USER_SEARCH_BASE</code>: required, example value: <code>dc=example,dc=com</code></li>
                                        <li><code>$LDAP_USER_ROLE_BASE</code>: required, example value: <code>ou=Groups,dc=example,dc=com</code></li>
                                        <li><code>$LDAP_TECH_GROUP_DN</code>: optional, group of users with global <b>Tech</b> permissions, example value: <code>cn=HESPERIDES_TECH,ou=Groups,dc=example,dc=com</code></li>
                                        <li><code>$LDAP_PROD_GROUP_DN</code>: optional, group of users with global <b>Prod</b> permissions, example value: <code>cn=HESPERIDES_PROD,ou=Groups,dc=example,dc=com</code></li>
                                        <li><code>$LDAP_BIND_DN</code>: optional. If set, enable bindDn authentication; otherwise authentication on the LDAP server is performed with the credentials provided by the user when authenticating with Hesperides</li>
                                        <li><code>$LDAP_BIND_PASSWORD</code>: optional but required if <code>$LDAP_BIND_DN</code> is set</li>
                                    </ul>
                                </div><!--//section-block-->
                            </section><!--//doc-section-->
                        </div><!--//content-inner-->
                    </div><!--//doc-content-->
                    <div class="doc-sidebar hidden-xs">
                        <nav id="doc-nav">
                            <ul id="doc-menu" class="nav doc-menu" data-spy="affix">
                                <li>
                                    <a class="scrollto" href="#what-is-hesperides">What's Hesperides</a>
                                </li>
                                <li>
                                    <a class="scrollto" href="#when-to-use-it">When to use it</a>
                                </li>
                                <li>
                                    <a class="scrollto" href="#essential-concepts">Essential concepts</a>
                                    <ul class="nav doc-sub-menu">
                                        <li>
                                            <a class="scrollto" href="#essential-concepts-create">Module and platform</a>
                                        </li>
                                        <li>
                                            <a class="scrollto" href="#essential-concepts-valuation">Valuation</a>
                                        </li>
                                        <li>
                                            <a class="scrollto" href="#essential-concepts-files">File</a>
                                        </li>
                                    </ul><!--//nav-->
                                </li>
                                <li>
                                    <a class="scrollto" href="#full-example">Full example</a>
                                </li>
                                <li>
                                    <a class="scrollto" href="#install">Installation</a>
                                    <ul class="nav doc-sub-menu">
                                        <li>
                                            <a class="scrollto" href="#dockerhub-images">Docker Hub images</a>
                                        </li>
                                        <li>
                                            <a class="scrollto" href="#docker-install">Docker image build</a>
                                        </li>
                                        <li>
                                            <a class="scrollto" href="#heroku">Deploying on Heroku</a>
                                        </li>
                                        <li>
                                            <a class="scrollto" href="#configuring-ldap">Configuring LDAP</a>
                                        </li>
                                    </ul><!--//nav-->
                                </li>
                            </ul><!--//doc-menu-->
                        </nav>
                    </div><!--//doc-sidebar-->
                </div><!--//doc-body-->
            </div><!--//container-->
        </div><!--//doc-wrapper-->
    </div><!--//page-wrapper-->
    <footer class="footer text-center">
        <div class="container">
            <!--/* This template is released under the Creative Commons Attribution 3.0 License. Please keep the attribution link below when using for your own project. Thank you for your support. :) If you'd like to use the template without the attribution, you can check out other license options via our website: themes.3rdwavemedia.com */-->
            <small class="copyright">Designed with by <a href="http://themes.3rdwavemedia.com/" target="_blank">Xiaoying Riley</a> for developers - <a href="license.html">PrettyDocs License</a></small>
        </div><!--//container-->
    </footer><!--//footer-->
    <!-- Main Javascript -->
    <script type="text/javascript" src="assets/plugins/jquery-1.12.3.min.js"></script>
    <script type="text/javascript" src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="assets/plugins/prism/prism.js"></script>
    <script type="text/javascript" src="assets/plugins/jquery-scrollTo/jquery.scrollTo.min.js"></script>
    <script type="text/javascript" src="assets/plugins/jquery-match-height/jquery.matchHeight-min.js"></script>
    <script type="text/javascript" src="assets/js/main.js"></script>
</body>
</html>
